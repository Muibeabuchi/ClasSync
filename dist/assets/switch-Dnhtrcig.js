import{v as W,ab as $,r as m,i as F,j as b,w as q,k as B,z as V,m as X,c as J,o as I}from"./index-CecvFVSM.js";import{u as K}from"./select-DEX26oRd.js";import{u as Q}from"./index-Y3MbOMuN.js";/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ue=W("message-square",Y);var E={},N;function Z(){if(N)return E;N=1,Object.defineProperty(E,"__esModule",{value:!0}),E.useGeolocated=e;const t=$();function e(o={}){const{positionOptions:s={enableHighAccuracy:!0,maximumAge:0,timeout:1/0},isOptimisticGeolocationEnabled:n=!0,userDecisionTimeout:a=void 0,suppressLocationOnMount:i=!1,watchPosition:d=!1,geolocationProvider:r=typeof navigator<"u"?navigator.geolocation:void 0,watchLocationPermissionChange:w=!1,onError:u,onSuccess:l}=o,p=(0,t.useRef)(0),f=(0,t.useRef)(!0),h=(0,t.useRef)(0),[S,k]=(0,t.useState)(n),[v,x]=(0,t.useState)(),[g,R]=(0,t.useState)(),[O,T]=(0,t.useState)(),[L,U]=(0,t.useState)(),C=(0,t.useCallback)(()=>{p.current&&window.clearTimeout(p.current)},[]),P=(0,t.useCallback)(c=>{C(),f.current&&(x(()=>{}),k(!1),T(c)),u==null||u(c)},[u,C]),_=(0,t.useCallback)(c=>{C(),f.current&&(x(c.coords),R(c.timestamp),k(!0),T(()=>{})),l==null||l(c)},[l,C]),j=(0,t.useCallback)(()=>{if(!r||!r.getCurrentPosition||!r.watchPosition)throw new Error("The provided geolocation provider is invalid");a&&(p.current=window.setTimeout(()=>{P()},a)),d?h.current=r.watchPosition(_,P,s):r.getCurrentPosition(_,P,s)},[r,d,a,P,_,s]);return(0,t.useEffect)(()=>{let c;return w&&r&&"permissions"in navigator&&navigator.permissions.query({name:"geolocation"}).then(M=>{c=M,c.onchange=()=>{U(c.state)}}).catch(M=>{console.error("Error updating the permissions",M)}),()=>{c&&(c.onchange=null)}},[]),(0,t.useEffect)(()=>(i||j(),()=>{C(),d&&h.current&&(r==null||r.clearWatch(h.current))}),[L]),{getPosition:j,coords:v,timestamp:g,isGeolocationEnabled:S,isGeolocationAvailable:!!r,positionError:O}}return E}var de=Z(),y="Switch",[ee,le]=F(y),[te,oe]=ee(y),z=m.forwardRef((t,e)=>{const{__scopeSwitch:o,name:s,checked:n,defaultChecked:a,required:i,disabled:d,value:r="on",onCheckedChange:w,form:u,...l}=t,[p,f]=m.useState(null),h=B(e,g=>f(g)),S=m.useRef(!1),k=p?u||!!p.closest("form"):!0,[v,x]=V({prop:n,defaultProp:a??!1,onChange:w,caller:y});return b.jsxs(te,{scope:o,checked:v,disabled:d,children:[b.jsx(q.button,{type:"button",role:"switch","aria-checked":v,"aria-required":i,"data-state":H(v),"data-disabled":d?"":void 0,disabled:d,value:r,...l,ref:h,onClick:X(t.onClick,g=>{x(R=>!R),k&&(S.current=g.isPropagationStopped(),S.current||g.stopPropagation())})}),k&&b.jsx(G,{control:p,bubbles:!S.current,name:s,value:r,checked:v,required:i,disabled:d,form:u,style:{transform:"translateX(-100%)"}})]})});z.displayName=y;var A="SwitchThumb",D=m.forwardRef((t,e)=>{const{__scopeSwitch:o,...s}=t,n=oe(A,o);return b.jsx(q.span,{"data-state":H(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:e})});D.displayName=A;var se="SwitchBubbleInput",G=m.forwardRef(({__scopeSwitch:t,control:e,checked:o,bubbles:s=!0,...n},a)=>{const i=m.useRef(null),d=B(i,a),r=K(o),w=Q(e);return m.useEffect(()=>{const u=i.current;if(!u)return;const l=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(l,"checked").set;if(r!==o&&f){const h=new Event("click",{bubbles:s});f.call(u,o),u.dispatchEvent(h)}},[r,o,s]),b.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:d,style:{...n.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});G.displayName=se;function H(t){return t?"checked":"unchecked"}var re=z,ne=D;function pe(t){const e=J.c(9);let o,s;e[0]!==t?({className:o,...s}=t,e[0]=t,e[1]=o,e[2]=s):(o=e[1],s=e[2]);let n;e[3]!==o?(n=I("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",o),e[3]=o,e[4]=n):n=e[4];let a;e[5]===Symbol.for("react.memo_cache_sentinel")?(a=b.jsx(ne,{"data-slot":"switch-thumb",className:I("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")}),e[5]=a):a=e[5];let i;return e[6]!==s||e[7]!==n?(i=b.jsx(re,{"data-slot":"switch",className:n,...s,children:a}),e[6]=s,e[7]=n,e[8]=i):i=e[8],i}export{ue as M,pe as S,de as d};
