import{c as je,r as d,j as t,l as _e,C as ce,d as oe,e as de,B as D,f as me,g as he,y as we,u as ke,t as ye}from"./index-CecvFVSM.js";import{u as Ee}from"./use-google-auth-BVB3FUP5.js";import{C as ue,u as Te,a as Fe}from"./cancel-modal-CnQaduQg.js";import{I as ge}from"./input-DDETxMrs.js";import{L as N}from"./index-Y3MbOMuN.js";import{S as Y,a as U,b as W,c as $,d as R}from"./select-DEX26oRd.js";import{C as Oe}from"./circle-check-big-BUfQYgbx.js";import{U as Pe}from"./upload-uA9Ec4Aw.js";import"./useSuspenseQuery-xIfQJBxe.js";import"./useBaseQuery-BtRrQ5Oc.js";import"./useMutation-Bwvj9MTE.js";import"./index-Dx9OE-jg.js";const pe=[{"School of Electrical Systems and Engineering Technology (SESET)":["Computer Engineering","Electrical (Power Systems) Engineering","Electronics Engineering","Mechatronics Engineering","Telecommunications Engineering"]},{"School of Engineering and Engineering Technology (SEET)":["Agricultural and Bio resources Engineering","Biomedical Engineering","Chemical Engineering","Civil Engineering","Food Science and technology","Material and Metallurgical Engineering","Mechanical Engineering","Petroleum Engineering","Polymer and Textile Engineering"]},{"School of Physical Science (SOPS)":["Chemistry","Geology","Mathematics","Physics","Science Laboratory Technology","Statistics"]},{"School of Logistics and Innovation Technology (SLIT)":["Entrepreneurship and Innovation","Logistics and Transport Technology","Maritime Technology and Logistics","Supply Chain Management","Project Management Technology"]},{"School of Biological Science (SOBS)":["Biochemistry","Biology","Biotechnology","Microbiology","Forensic Science","Electrical and Electronic Engineering"]},{"School of Information and Communication Technology (SICT)":["Computer Science","Cyber Security","Information Technology","Software Engineering"]},{"School of Basic Medical Science (SBMS)":["Human Anatomy","Human Physiology"]},{"School of Health Technology (SOHT)":["Dental Technology","Environmental Health Science","Optometry","Prosthetics and Orthotics","Public Health Technology"]},{"School of Agriculture And Agricultural Technology (SAAT)":["Agribusiness","Agricultural Economics","Agricultural Extension","Animal Science and Technology","Crop Science and Technology","Fisheries and Aquaculture Technology","Forestry and Wildlife Technology","Soil Science and Technology"]}],be=()=>pe.map(r=>Object.keys(r)[0]),Se=r=>{const e=pe.find(c=>Object.keys(c)[0]===r);return e?Object.values(e)[0]:[]};function Me(r){const e=je.c(94),{handleConfirmCancel:c,handleCompleteOnboarding:f}=r,[y,j]=d.useState(1),[i,C]=d.useState(!1),[g,T]=d.useState(!1),[l,h]=d.useState("Dr. John Smith"),[o,Z]=d.useState(),[n,ee]=d.useState(""),[a,J]=d.useState("");let m,u;if(e[0]!==y||e[1]!==a||e[2]!==n||e[3]!==l||e[4]!==f||e[5]!==c||e[6]!==g||e[7]!==i||e[8]!==o){u=Symbol.for("react.early_return_sentinel");e:{const ve=be(),Ne=n?Se(n):[];let le;e[11]!==l||e[12]!==o?(le=()=>{l&&o&&j(2)},e[11]=l,e[12]=o,e[13]=le):le=e[13];const xe=le;let ne;e[14]!==a||e[15]!==n||e[16]!==l||e[17]!==f||e[18]!==o?(ne=async()=>{n&&a&&(T(!0),f({...{fullName:l,title:o,faculty:n,department:a}}),j(3),T(!1))},e[14]=a,e[15]=n,e[16]=l,e[17]=f,e[18]=o,e[19]=ne):ne=e[19];const fe=ne;let ae;if(e[20]===Symbol.for("react.memo_cache_sentinel")?(ae=()=>{C(!0)},e[20]=ae):ae=e[20],m=ae,y===1){let _;e[21]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),t.jsx("div",{className:"w-16 h-1 bg-gray-200 dark:bg-gray-700"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 text-gray-500 rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),t.jsx("div",{className:"w-16 h-1 bg-gray-200 dark:bg-gray-700"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 text-gray-500 rounded-full flex items-center justify-center text-sm font-medium",children:"3"})]}),t.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Step 1 of 3: Personal Information"})]}),e[21]=_):_=e[21];let F;e[22]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsxs(ce,{children:[t.jsx(oe,{children:"Personal Information"}),t.jsx(de,{children:"Let's start with your basic information"})]}),e[22]=F):F=e[22];let O;e[23]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(N,{htmlFor:"fullName",children:"Full Name"}),e[23]=O):O=e[23];let P;e[24]===Symbol.for("react.memo_cache_sentinel")?(P=E=>h(E.target.value),e[24]=P):P=e[24];let p;e[25]!==l?(p=t.jsxs("div",{className:"space-y-2",children:[O,t.jsx(ge,{id:"fullName",value:l,onChange:P,placeholder:"Enter your full name"})]}),e[25]=l,e[26]=p):p=e[26];let A;e[27]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(N,{htmlFor:"title",children:"Title"}),e[27]=A):A=e[27];let b;e[28]===Symbol.for("react.memo_cache_sentinel")?(b=E=>Z(E),e[28]=b):b=e[28];let M;e[29]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(U,{children:t.jsx(W,{placeholder:"Select your title"})}),e[29]=M):M=e[29];let B;e[30]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(Y,{children:_e.map(Be)}),e[30]=B):B=e[30];let w;e[31]!==o?(w=t.jsxs("div",{className:"space-y-2",children:[A,t.jsxs($,{value:o,onValueChange:b,children:[M,B]})]}),e[31]=o,e[32]=w):w=e[32];let S;e[33]===Symbol.for("react.memo_cache_sentinel")?(S=t.jsx(D,{variant:"outline",onClick:m,children:"Cancel"}),e[33]=S):S=e[33];const H=!l||!o;let x;e[34]!==xe||e[35]!==H?(x=t.jsxs("div",{className:"flex justify-between pt-6",children:[S,t.jsx(D,{onClick:xe,disabled:H,children:"Next Step"})]}),e[34]=xe,e[35]=H,e[36]=x):x=e[36];let v;e[37]!==w||e[38]!==x||e[39]!==p?(v=t.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[_,t.jsxs(me,{children:[F,t.jsxs(he,{className:"space-y-6",children:[p,w,x]})]})]}),e[37]=w,e[38]=x,e[39]=p,e[40]=v):v=e[40];let I;e[41]===Symbol.for("react.memo_cache_sentinel")?(I=()=>C(!1),e[41]=I):I=e[41];let k;e[42]!==c||e[43]!==i?(k=t.jsx(ue,{isOpen:i,onClose:I,onConfirm:c}),e[42]=c,e[43]=i,e[44]=k):k=e[44];let L;e[45]!==v||e[46]!==k?(L=t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[v,k]}),e[45]=v,e[46]=k,e[47]=L):L=e[47],u=L;break e}if(y===2){let _;e[48]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"âœ“"}),t.jsx("div",{className:"w-16 h-1 bg-green-600"}),t.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),t.jsx("div",{className:"w-16 h-1 bg-gray-200 dark:bg-gray-700"}),t.jsx("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-700 text-gray-500 rounded-full flex items-center justify-center text-sm font-medium",children:"3"})]}),t.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Step 2 of 3: Academic Information"})]}),e[48]=_):_=e[48];let F;e[49]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsxs(ce,{children:[t.jsx(oe,{children:"Academic Information"}),t.jsx(de,{children:"Tell us about your academic affiliation"})]}),e[49]=F):F=e[49];let O;e[50]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(N,{htmlFor:"faculty",children:"Faculty"}),e[50]=O):O=e[50];let P;e[51]===Symbol.for("react.memo_cache_sentinel")?(P=Ce=>{ee(Ce),J("")},e[51]=P):P=e[51];let p;e[52]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx(U,{children:t.jsx(W,{placeholder:"Select your faculty"})}),e[52]=p):p=e[52];const A=t.jsx(Y,{children:ve.map(Ae)});let b;e[53]!==n||e[54]!==A?(b=t.jsxs("div",{className:"space-y-2",children:[O,t.jsxs($,{value:n,onValueChange:P,children:[p,A]})]}),e[53]=n,e[54]=A,e[55]=b):b=e[55];let M;e[56]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsx(N,{htmlFor:"department",children:"Department"}),e[56]=M):M=e[56];const B=!n,w=n?"Select your department":"Select faculty first";let S;e[57]!==w?(S=t.jsx(U,{children:t.jsx(W,{placeholder:w})}),e[57]=w,e[58]=S):S=e[58];const H=t.jsx(Y,{children:Ne.map(Ie)});let x;e[59]!==a||e[60]!==B||e[61]!==S||e[62]!==H?(x=t.jsxs("div",{className:"space-y-2",children:[M,t.jsxs($,{value:a,onValueChange:J,disabled:B,children:[S,H]})]}),e[59]=a,e[60]=B,e[61]=S,e[62]=H,e[63]=x):x=e[63];let v;e[64]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(D,{variant:"outline",onClick:m,children:"Cancel"}),e[64]=v):v=e[64];let I;e[65]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsxs("div",{className:"space-x-2",children:[v,t.jsx(D,{variant:"outline",onClick:()=>j(1),children:"Back"})]}),e[65]=I):I=e[65];const k=!n||!a||g,L=g?"Setting up...":"Next Step";let E;e[66]!==fe||e[67]!==k||e[68]!==L?(E=t.jsxs("div",{className:"flex justify-between pt-6",children:[I,t.jsx(D,{onClick:fe,disabled:k,children:L})]}),e[66]=fe,e[67]=k,e[68]=L,e[69]=E):E=e[69];let Q;e[70]!==b||e[71]!==x||e[72]!==E?(Q=t.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[_,t.jsxs(me,{children:[F,t.jsxs(he,{className:"space-y-6",children:[b,x,E]})]})]}),e[70]=b,e[71]=x,e[72]=E,e[73]=Q):Q=e[73];let re;e[74]===Symbol.for("react.memo_cache_sentinel")?(re=()=>C(!1),e[74]=re):re=e[74];let X;e[75]!==c||e[76]!==i?(X=t.jsx(ue,{isOpen:i,onClose:re,onConfirm:c}),e[75]=c,e[76]=i,e[77]=X):X=e[77];let ie;e[78]!==Q||e[79]!==X?(ie=t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[Q,X]}),e[78]=Q,e[79]=X,e[80]=ie):ie=e[80],u=ie;break e}}e[0]=y,e[1]=a,e[2]=n,e[3]=l,e[4]=f,e[5]=c,e[6]=g,e[7]=i,e[8]=o,e[9]=m,e[10]=u}else m=e[9],u=e[10];if(u!==Symbol.for("react.early_return_sentinel"))return u;let q;e[81]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"âœ“"}),t.jsx("div",{className:"w-16 h-1 bg-green-600"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"âœ“"}),t.jsx("div",{className:"w-16 h-1 bg-green-600"}),t.jsx("div",{className:"w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"âœ“"})]}),t.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:"Setup Complete!"})]}),e[81]=q):q=e[81];let V;e[82]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsxs(ce,{className:"text-center",children:[t.jsx("div",{className:"mx-auto bg-green-100 dark:bg-green-900 p-4 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:t.jsx(Oe,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),t.jsx(oe,{className:"text-2xl",children:"Welcome to ClassSync!"}),t.jsx(de,{children:"Your lecturer account has been successfully set up. You can now start managing your courses and tracking student attendance."})]}),e[82]=V):V=e[82];let G;e[83]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx("h3",{className:"font-semibold mb-2",children:"What's next?"}),e[83]=G):G=e[83];let z;e[84]===Symbol.for("react.memo_cache_sentinel")?(z=t.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[G,t.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[t.jsx("li",{children:"â€¢ Create your first course"}),t.jsx("li",{children:"â€¢ Set up class schedules"}),t.jsx("li",{children:"â€¢ Invite students to join"}),t.jsx("li",{children:"â€¢ Start tracking attendance"})]})]}),e[84]=z):z=e[84];let s;e[85]!==m?(s=t.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[q,t.jsxs(me,{children:[V,t.jsxs(he,{className:"text-center space-y-6",children:[z,t.jsx("div",{className:"flex justify-between pt-6",children:t.jsx(D,{variant:"outline",onClick:m,children:"Cancel"})})]})]})]}),e[85]=m,e[86]=s):s=e[86];let te;e[87]===Symbol.for("react.memo_cache_sentinel")?(te=()=>C(!1),e[87]=te):te=e[87];let K;e[88]!==c||e[89]!==i?(K=t.jsx(ue,{isOpen:i,onClose:te,onConfirm:c}),e[88]=c,e[89]=i,e[90]=K):K=e[90];let se;return e[91]!==s||e[92]!==K?(se=t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[s,K]}),e[91]=s,e[92]=K,e[93]=se):se=e[93],se}function Ie(r){return t.jsx(R,{value:r,children:r},r)}function Ae(r){return t.jsx(R,{value:r,children:r},r)}function Be(r){return t.jsx(R,{value:r,children:r},r)}function Le({handleConfirmCancel:r,handleCompleteOnboarding:e}){const[c,f]=d.useState(!1),[y,j]=d.useState(!1),[i,C]=d.useState([]),[g,T]=d.useState(""),[l,h]=d.useState(""),[o,Z]=d.useState(),[n,ee]=d.useState("100"),[a,J]=d.useState(""),[m,u]=d.useState(""),q=be();d.useEffect(()=>{if(a){const s=Se(a);C(s),s.includes(m)||u("")}},[a,m]);const V=s=>/^202\d{8}$/.test(s),G=()=>g&&l&&V(l)&&o&&n&&a&&m,z=async()=>{if(G()){j(!0);try{await e({...{fullName:g,registrationNumber:l,gender:o,yearLevel:n,faculty:a,department:m}})}catch(s){console.error("Submission error:",s)}finally{j(!1)}}};return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-4",children:[t.jsxs("div",{className:"max-w-2xl mx-auto pt-8",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Student Registration"}),t.jsx("p",{className:"text-muted-foreground",children:"Complete your profile to start using ClassSync"})]}),t.jsxs(me,{children:[t.jsxs(ce,{children:[t.jsx(oe,{children:"Student Information"}),t.jsx(de,{children:"Please provide your details to set up your student account"})]}),t.jsxs(he,{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{htmlFor:"fullName",children:"Full Name"}),t.jsx(ge,{id:"fullName",value:g,onChange:s=>T(s.target.value),placeholder:"Enter your full name"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{htmlFor:"registrationNumber",children:"Registration Number"}),t.jsx(ge,{id:"registrationNumber",value:l,onChange:s=>h(s.target.value),placeholder:"e.g. 2021123456"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Registration number must start with 202 and be 10 digits"}),l&&!V(l)&&t.jsx("p",{className:"text-sm text-destructive",children:"Registration number must start with 202 and be 10 digits"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{htmlFor:"gender",children:"Gender"}),t.jsxs($,{value:o,onValueChange:s=>{Z(s)},children:[t.jsx(U,{children:t.jsx(W,{placeholder:"Select gender"})}),t.jsxs(Y,{children:[t.jsx(R,{value:"male",children:"Male"}),t.jsx(R,{value:"female",children:"Female"})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{htmlFor:"yearLevel",children:"Year Level"}),t.jsxs($,{value:n,onValueChange:s=>ee(s),children:[t.jsx(U,{children:t.jsx(W,{placeholder:"Select year"})}),t.jsx(Y,{children:we.map(s=>t.jsx(R,{value:s,children:s},s))})]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{htmlFor:"faculty",children:"Faculty"}),t.jsxs($,{value:a,onValueChange:s=>{J(s),u("")},children:[t.jsx(U,{children:t.jsx(W,{placeholder:"Select your faculty"})}),t.jsx(Y,{children:q.map(s=>t.jsx(R,{value:s,children:s},s))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{htmlFor:"department",children:"Department"}),t.jsxs($,{value:m,onValueChange:u,disabled:!a,children:[t.jsx(U,{children:t.jsx(W,{placeholder:a?"Select your department":"Select faculty first"})}),t.jsx(Y,{children:i.map(s=>t.jsx(R,{value:s,children:s},s))})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(N,{htmlFor:"passportPhoto",children:"Passport Photo (Optional)"}),t.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center hover:border-border/80 transition-colors",children:[t.jsx(Pe,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsxs("label",{htmlFor:"passportPhoto",className:"cursor-pointer",children:[t.jsx("span",{className:"text-primary hover:text-primary/80",children:"Click to upload"}),t.jsx("span",{children:" or drag and drop"})]}),t.jsx("input",{id:"passportPhoto",type:"file",className:"hidden",accept:"image/*"})]}),t.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"PNG, JPG, GIF up to 10MB"})]})]}),t.jsxs("div",{className:"flex justify-between pt-6",children:[t.jsx(D,{variant:"outline",onClick:()=>f(!0),children:"Cancel"}),t.jsx(D,{onClick:z,disabled:!G()||y,children:y?"Setting up account...":"Complete Registration"})]})]})]})]}),t.jsx(ue,{isOpen:c,onClose:()=>f(!1),onConfirm:r})]})}const Ke=function(){const e=je.c(12),{data:c}=Te(),f=Ee(),y=ke();let j;e[0]!==f?(j=async()=>{await f()},e[0]=f,e[1]=j):j=e[1];const i=j,{mutateAsync:C,isPending:g}=Fe();let T;e[2]!==C||e[3]!==g||e[4]!==y?(T=async h=>{const{department:o,faculty:Z,fullName:n,gender:ee,registrationNumber:a,title:J,yearLevel:m}=h;if(g||!n)return;const u=await C({department:o,faculty:Z,fullName:n,gender:ee,registrationNumber:a,title:J,yearLevel:m});u.success?(ye.success(u.message),y({to:"/dashboard"})):ye.error("Onboarding Failed. Ensure you have filled in the right information")},e[2]=C,e[3]=g,e[4]=y,e[5]=T):T=e[5];const l=T;if(c==="lecturer"){let h;return e[6]!==i||e[7]!==l?(h=t.jsx(Me,{handleConfirmCancel:i,handleCompleteOnboarding:l}),e[6]=i,e[7]=l,e[8]=h):h=e[8],h}if(c==="student"){let h;return e[9]!==i||e[10]!==l?(h=t.jsx(Le,{handleConfirmCancel:i,handleCompleteOnboarding:l}),e[9]=i,e[10]=l,e[11]=h):h=e[11],h}};export{Ke as component};
