import{v as is,c as rs,a as wt,b as Rt,r as j,j as s,z as At,i as It,k as gt,w as tt,m as lt,P as Tt,o as Mt,u as Pt,t as nt,q as ct,M as Et,D as ce,B as b,a8 as Lt,f as H,g as O,L as zt,J as Bt,U as $t,_ as Zs,$ as qt,C as ls,d as ns,a0 as et,e as it,a6 as A,a4 as rt,a5 as Ds,a7 as I,a3 as ot,a2 as dt,a1 as Gt,a9 as Ht,aa as Ot}from"./index-CecvFVSM.js";import{a as Dt,b as Ft}from"./index-Dh4dIVEZ.js";import{u as Vt}from"./useSuspenseQuery-xIfQJBxe.js";import{u as Ut,a as Jt,b as Xt,S as Kt,d as Fs,c as Qt}from"./select-DEX26oRd.js";import{u as Wt,b as Us,L as cs}from"./index-Y3MbOMuN.js";import{f as Yt,b as Zt,D as ea,a as sa,d as ta,e as aa}from"./dialog-C36qyvPe.js";import{d as la,S as na,M as ca}from"./switch-Dnhtrcig.js";import{I as mt}from"./input-DDETxMrs.js";import{d as ht,D as xt,c as ft,a as Vs}from"./dropdown-menu-7sezzn9x.js";import{T as ia}from"./trending-up-CHLeSNvc.js";import{T as ut}from"./triangle-alert-BZL7Xlkr.js";import{T as ra}from"./trash-2-BtIjoixy.js";import{X as st}from"./x-DTcc-kSa.js";import{B as oa}from"./book-open-BIuGuf3X.js";import"./useMutation-Bwvj9MTE.js";import"./useBaseQuery-BtRrQ5Oc.js";import"./index-Dx9OE-jg.js";/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],ma=is("chart-no-axes-column-increasing",da);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],pt=is("clipboard-check",ha);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],fa=is("code",xa);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],jt=is("ellipsis",ua);/**
 * @license lucide-react v0.523.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ja=is("refresh-cw",pa),ga=n=>{const e=rs.c(2),{courseId:l}=n;let t;return e[0]!==l?(t=wt(Rt.courses.getCourseDetails,{courseId:l}),e[0]=l,e[1]=t):t=e[1],Vt(t)};var Js="Checkbox",[ba,Xa]=It(Js),[Na,at]=ba(Js);function va(n){const{__scopeCheckbox:e,checked:l,children:t,defaultChecked:m,disabled:c,form:u,name:h,onCheckedChange:o,required:f,value:C="on",internal_do_not_use_render:d}=n,[N,g]=At({prop:l,defaultProp:m??!1,onChange:o,caller:Js}),[T,v]=j.useState(null),[r,p]=j.useState(null),x=j.useRef(!1),q=T?!!u||!!T.closest("form"):!0,D={checked:N,disabled:c,setChecked:g,control:T,setControl:v,name:h,form:u,value:C,hasConsumerStoppedPropagationRef:x,required:f,defaultChecked:ie(m)?!1:m,isFormControl:q,bubbleInput:r,setBubbleInput:p};return s.jsx(Na,{scope:e,...D,children:ya(d)?d(D):t})}var bt="CheckboxTrigger",Nt=j.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:l,...t},m)=>{const{control:c,value:u,disabled:h,checked:o,required:f,setControl:C,setChecked:d,hasConsumerStoppedPropagationRef:N,isFormControl:g,bubbleInput:T}=at(bt,n),v=gt(m,C),r=j.useRef(o);return j.useEffect(()=>{const p=c==null?void 0:c.form;if(p){const x=()=>d(r.current);return p.addEventListener("reset",x),()=>p.removeEventListener("reset",x)}},[c,d]),s.jsx(tt.button,{type:"button",role:"checkbox","aria-checked":ie(o)?"mixed":o,"aria-required":f,"data-state":_t(o),"data-disabled":h?"":void 0,disabled:h,value:u,...t,ref:v,onKeyDown:lt(e,p=>{p.key==="Enter"&&p.preventDefault()}),onClick:lt(l,p=>{d(x=>ie(x)?!0:!x),T&&g&&(N.current=p.isPropagationStopped(),N.current||p.stopPropagation())})})});Nt.displayName=bt;var vt=j.forwardRef((n,e)=>{const{__scopeCheckbox:l,name:t,checked:m,defaultChecked:c,required:u,disabled:h,value:o,onCheckedChange:f,form:C,...d}=n;return s.jsx(va,{__scopeCheckbox:l,checked:m,defaultChecked:c,disabled:h,required:u,onCheckedChange:f,name:t,form:C,value:o,internal_do_not_use_render:({isFormControl:N})=>s.jsxs(s.Fragment,{children:[s.jsx(Nt,{...d,ref:e,__scopeCheckbox:l}),N&&s.jsx(kt,{__scopeCheckbox:l})]})})});vt.displayName=Js;var yt="CheckboxIndicator",Ct=j.forwardRef((n,e)=>{const{__scopeCheckbox:l,forceMount:t,...m}=n,c=at(yt,l);return s.jsx(Tt,{present:t||ie(c.checked)||c.checked===!0,children:s.jsx(tt.span,{"data-state":_t(c.checked),"data-disabled":c.disabled?"":void 0,...m,ref:e,style:{pointerEvents:"none",...n.style}})})});Ct.displayName=yt;var St="CheckboxBubbleInput",kt=j.forwardRef(({__scopeCheckbox:n,...e},l)=>{const{control:t,hasConsumerStoppedPropagationRef:m,checked:c,defaultChecked:u,required:h,disabled:o,name:f,value:C,form:d,bubbleInput:N,setBubbleInput:g}=at(St,n),T=gt(l,g),v=Ut(c),r=Wt(t);j.useEffect(()=>{const x=N;if(!x)return;const q=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(q,"checked").set,S=!m.current;if(v!==c&&w){const M=new Event("click",{bubbles:S});x.indeterminate=ie(c),w.call(x,ie(c)?!1:c),x.dispatchEvent(M)}},[N,v,c,m]);const p=j.useRef(ie(c)?!1:c);return s.jsx(tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??p.current,required:h,disabled:o,name:f,value:C,form:d,...e,tabIndex:-1,ref:T,style:{...e.style,...r,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kt.displayName=St;function ya(n){return typeof n=="function"}function ie(n){return n==="indeterminate"}function _t(n){return ie(n)?"indeterminate":n?"checked":"unchecked"}function ne(n){const e=rs.c(9);let l,t;e[0]!==n?({className:l,...t}=n,e[0]=n,e[1]=l,e[2]=t):(l=e[1],t=e[2]);let m;e[3]!==l?(m=Mt("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",l),e[3]=l,e[4]=m):m=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(Ct,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Us,{className:"size-3.5"})}),e[5]=c):c=e[5];let u;return e[6]!==t||e[7]!==m?(u=s.jsx(vt,{"data-slot":"checkbox",className:m,...t,children:c}),e[6]=t,e[7]=m,e[8]=u):u=e[8],u}const Ca=n=>{const e=rs.c(48),{courseId:l,courseName:t,children:m}=n,[c,u]=j.useState(!1),[h,o]=j.useState(!1),[f,C]=j.useState(""),[d,N]=j.useState(150),g=Pt(),{mutateAsync:T}=Dt();let v;e[0]===Symbol.for("react.memo_cache_sentinel")?(v={enableHighAccuracy:!0},e[0]=v):v=e[0];const{isGeolocationAvailable:r,isGeolocationEnabled:p,getPosition:x}=la.useGeolocated({positionOptions:v,userDecisionTimeout:5e3,suppressLocationOnMount:!0,onSuccess:async y=>{const{coords:G}=y;if(!q&&!D)return;const{sessionId:le,courseId:oe}=await T({courseId:l,requireCode:f,radiusMeters:d,gpsCoordinates:{lat:G.latitude,long:G.longitude}});nt.success("Attendance Session Starting",{description:"30-second preparation phase has begun."}),u(!1),g({to:"/dashboard/$role/$lecturerCourseId/$attendanceSessionId",params:{lecturerCourseId:oe,role:"lecturer",attendanceSessionId:le}})}}),q=r,D=p;let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{let y="";for(let G=0;G<6;G++)y=y+"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(Math.random()*36));C(y)},e[1]=w):w=e[1];const S=w;let M;e[2]!==f?(M=()=>{navigator.clipboard.writeText(f),nt.info("Code Copied",{description:"Attendance code copied to clipboard."})},e[2]=f,e[3]=M):M=e[3];const W=M;let Y;e[4]!==x?(Y=()=>{x()},e[4]=x,e[5]=Y):Y=e[5];const F=Y;let R;e[6]!==m?(R=s.jsx(Yt,{asChild:!0,children:m}),e[6]=m,e[7]=R):R=e[7];let Z;e[8]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsxs(Zt,{className:"flex items-center gap-2",children:[s.jsx(ct,{className:"h-5 w-5 text-primary"}),"Start Attendance Session"]}),e[8]=Z):Z=e[8];let P;e[9]!==t?(P=s.jsxs(ea,{children:[Z,s.jsxs(sa,{children:["Configure your attendance session for ",s.jsx("strong",{children:t})]})]}),e[9]=t,e[10]=P):P=e[10];let E;e[11]===Symbol.for("react.memo_cache_sentinel")?(E=s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx(ct,{className:"h-4 w-4 text-blue-600"}),"Session Duration: 1 minute total"]}),e[11]=E):E=e[11];let V;e[12]===Symbol.for("react.memo_cache_sentinel")?(V=s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-2",children:[E,s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsx("div",{children:'• 30 seconds prep time (students see "Get Ready")'}),s.jsx("div",{children:"• 30 seconds active time (students can check-in)"})]})]}),e[12]=V):V=e[12];let re;e[13]===Symbol.for("react.memo_cache_sentinel")?(re=s.jsxs(cs,{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-4 w-4"}),"Location Radius"]}),e[13]=re):re=e[13];let U;e[14]===Symbol.for("react.memo_cache_sentinel")?(U=y=>N(Number(y.target.value)),e[14]=U):U=e[14];let k;e[15]!==d?(k=s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(mt,{type:"range",min:"50",max:"300",value:d,onChange:U,className:"flex-1"}),s.jsxs(ce,{variant:"outline",children:[d,"m"]})]}),e[15]=d,e[16]=k):k=e[16];let J;e[17]===Symbol.for("react.memo_cache_sentinel")?(J=s.jsx("p",{className:"text-xs text-gray-500",children:"Students must be within this radius to check-in"}),e[17]=J):J=e[17];let X;e[18]!==k?(X=s.jsxs("div",{className:"space-y-3",children:[re,k,J]}),e[18]=k,e[19]=X):X=e[19];let K;e[20]===Symbol.for("react.memo_cache_sentinel")?(K=s.jsxs(cs,{className:"flex items-center gap-2",children:[s.jsx(fa,{className:"h-4 w-4"}),"Require Attendance Code"]}),e[20]=K):K=e[20];let ee;e[21]!==h?(ee=s.jsxs("div",{className:"flex items-center justify-between",children:[K,s.jsx(na,{checked:h,onCheckedChange:o})]}),e[21]=h,e[22]=ee):ee=e[22];let L;e[23]!==f||e[24]!==W||e[25]!==h?(L=h&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(mt,{value:f,onChange:y=>C(y.target.value.toUpperCase()),placeholder:"Enter code or generate",maxLength:6,className:"font-mono"}),s.jsx(b,{type:"button",variant:"outline",size:"icon",onClick:S,children:s.jsx(ja,{className:"h-4 w-4"})}),f&&s.jsx(b,{type:"button",variant:"outline",size:"icon",onClick:W,children:s.jsx(Lt,{className:"h-4 w-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Students will need to enter this code during check-in"})]}),e[23]=f,e[24]=W,e[25]=h,e[26]=L):L=e[26];let se;e[27]!==ee||e[28]!==L?(se=s.jsxs("div",{className:"space-y-3",children:[ee,L]}),e[27]=ee,e[28]=L,e[29]=se):se=e[29];let Q;e[30]===Symbol.for("react.memo_cache_sentinel")?(Q=s.jsx(b,{variant:"outline",onClick:()=>u(!1),className:"flex-1",children:"Cancel"}),e[30]=Q):Q=e[30];let te;e[31]!==f||e[32]!==h?(te=h&&!f.trim(),e[31]=f,e[32]=h,e[33]=te):te=e[33];let z;e[34]!==F||e[35]!==te?(z=s.jsxs("div",{className:"flex gap-3 pt-2",children:[Q,s.jsx(b,{onClick:F,className:"flex-1",disabled:te,children:"Start Session"})]}),e[34]=F,e[35]=te,e[36]=z):z=e[36];let ae;e[37]!==X||e[38]!==se||e[39]!==z?(ae=s.jsxs("div",{className:"space-y-6",children:[V,X,se,z]}),e[37]=X,e[38]=se,e[39]=z,e[40]=ae):ae=e[40];let B;e[41]!==P||e[42]!==ae?(B=s.jsxs(ta,{className:"max-w-md",children:[P,ae]}),e[41]=P,e[42]=ae,e[43]=B):B=e[43];let $;return e[44]!==c||e[45]!==B||e[46]!==R?($=s.jsxs(aa,{open:c,onOpenChange:u,children:[R,B]}),e[44]=c,e[45]=B,e[46]=R,e[47]=$):$=e[47],$},Sa=n=>{const e=rs.c(210),{courseId:l,courseDetails:t,attendanceSessions:m}=n,[c,u]=j.useState("overview");let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=[],e[0]=h):h=e[0];const[o,f]=j.useState(h);let C;e[1]===Symbol.for("react.memo_cache_sentinel")?(C=[],e[1]=C):C=e[1];const[d,N]=j.useState(C),[g,T]=j.useState("pending");let v;e[2]!==(t==null?void 0:t.course)||e[3]!==l?(v=(t==null?void 0:t.course)||{id:l,name:"Loading...",code:"Loading...",enrolledCount:0,description:"Loading..."},e[2]=t==null?void 0:t.course,e[3]=l,e[4]=v):v=e[4];const r=v;let p;e[5]!==(t==null?void 0:t.students)?(p=(t==null?void 0:t.students)||[],e[5]=t==null?void 0:t.students,e[6]=p):p=e[6];const x=p;let q;e[7]!==(t==null?void 0:t.requests)?(q=(t==null?void 0:t.requests)||[],e[7]=t==null?void 0:t.requests,e[8]=q):q=e[8];const D=q;let w;if(e[9]!==g||e[10]!==D){let i;e[12]!==g?(i=a=>g==="all"||a.status===g,e[12]=g,e[13]=i):i=e[13],w=D.filter(i),e[9]=g,e[10]=D,e[11]=w}else w=e[11];const S=w;let M;e[14]!==(t==null?void 0:t.analytics)?(M=(t==null?void 0:t.analytics)||{avgAttendance:0,bestStudent:null,worstStudent:null,lowAttendanceCount:0},e[14]=t==null?void 0:t.analytics,e[15]=M):M=e[15];const W=M,Y=W.avgAttendance,F=W.bestStudent,R=W.worstStudent,Z=W.lowAttendanceCount;let P;e[16]!==x?(P=i=>{f(i?x.map(ka):[])},e[16]=x,e[17]=P):P=e[17];const E=P;let V;e[18]===Symbol.for("react.memo_cache_sentinel")?(V=(i,a)=>{f(_=>a?[..._,i]:_.filter(Ys=>Ys!==i))},e[18]=V):V=e[18];const re=V;let U;e[19]!==S?(U=i=>{N(i?S.map(_a):[])},e[19]=S,e[20]=U):U=e[20];const k=U;let J;e[21]===Symbol.for("react.memo_cache_sentinel")?(J=(i,a)=>{N(_=>a?[..._,i]:_.filter(Ys=>Ys!==i))},e[21]=J):J=e[21];const X=J;let K;e[22]===Symbol.for("react.memo_cache_sentinel")?(K=()=>{N([])},e[22]=K):K=e[22];const ee=K;let L;e[23]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{N([])},e[23]=L):L=e[23];const se=L;let Q;e[24]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{f([])},e[24]=Q):Q=e[24];const te=Q;let z;e[25]===Symbol.for("react.memo_cache_sentinel")?(z=()=>{f([])},e[25]=z):z=e[25];const ae=z;let B;e[26]===Symbol.for("react.memo_cache_sentinel")?(B=s.jsx(b,{variant:"ghost",size:"icon",className:"hover:scale-110 transition-transform flex-shrink-0",children:s.jsx(Bt,{className:"h-4 w-4"})}),e[26]=B):B=e[26];let $;e[27]!==r.name?($=s.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:r.name}),e[27]=r.name,e[28]=$):$=e[28];let y;e[29]!==r.code?(y=s.jsx("span",{className:"font-medium",children:r.code}),e[29]=r.code,e[30]=y):y=e[30];let G;e[31]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx("span",{className:"hidden sm:inline",children:"•"}),e[31]=G):G=e[31];let le;e[32]!==r.status?(le=s.jsxs("span",{className:"hidden sm:inline",children:["Status: ",r.status]}),e[32]=r.status,e[33]=le):le=e[33];let oe;e[34]===Symbol.for("react.memo_cache_sentinel")?(oe=s.jsx("span",{className:"hidden sm:inline",children:"•"}),e[34]=oe):oe=e[34];let os;e[35]===Symbol.for("react.memo_cache_sentinel")?(os=s.jsx($t,{className:"h-3 w-3 sm:h-4 sm:w-4"}),e[35]=os):os=e[35];let de;e[36]!==r.enrolledCount?(de=s.jsxs("span",{className:"flex items-center gap-1 text-xs sm:text-sm",children:[os,r.enrolledCount]}),e[36]=r.enrolledCount,e[37]=de):de=e[37];let me;e[38]!==y||e[39]!==le||e[40]!==de?(me=s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm sm:text-base text-gray-600 mt-1",children:[y,G,le,oe,de]}),e[38]=y,e[39]=le,e[40]=de,e[41]=me):me=e[41];let he;e[42]!==$||e[43]!==me?(he=s.jsxs("div",{className:"flex items-center space-x-4",children:[B,s.jsxs("div",{className:"flex-1 min-w-0",children:[$,me]})]}),e[42]=$,e[43]=me,e[44]=he):he=e[44];let ds;e[45]===Symbol.for("react.memo_cache_sentinel")?(ds=s.jsx(b,{variant:"outline",className:"w-full sm:w-auto text-sm",children:"View History"}),e[45]=ds):ds=e[45];let ms;e[46]===Symbol.for("react.memo_cache_sentinel")?(ms=s.jsxs(b,{className:"w-full sm:w-auto text-sm",children:[s.jsx(pt,{className:"h-4 w-4 mr-2"}),"Take Attendance"]}),e[46]=ms):ms=e[46];let xe;e[47]!==r.name||e[48]!==l?(xe=s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[ds,s.jsx(Ca,{courseId:l,courseName:r.name,children:ms})]}),e[47]=r.name,e[48]=l,e[49]=xe):xe=e[49];let fe;e[50]!==he||e[51]!==xe?(fe=s.jsxs("div",{className:"space-y-4",children:[he,xe]}),e[50]=he,e[51]=xe,e[52]=fe):fe=e[52];let hs,xs;e[53]===Symbol.for("react.memo_cache_sentinel")?(hs=s.jsx(Zs,{value:"overview",className:"transition-all text-xs sm:text-sm",children:"Overview"}),xs=s.jsx(Zs,{value:"students",className:"transition-all text-xs sm:text-sm",children:"Students"}),e[53]=hs,e[54]=xs):(hs=e[53],xs=e[54]);let fs;e[55]===Symbol.for("react.memo_cache_sentinel")?(fs=s.jsxs(qt,{className:"grid w-full grid-cols-3",children:[hs,xs,s.jsxs(Zs,{value:"requests",className:"transition-all text-xs sm:text-sm",children:[s.jsx("span",{className:"hidden sm:inline",children:"Join Requests"}),s.jsx("span",{className:"sm:hidden",children:"Requests"})]})]}),e[55]=fs):fs=e[55];let us;e[56]===Symbol.for("react.memo_cache_sentinel")?(us=s.jsx(ls,{children:s.jsxs(ns,{className:"flex items-center gap-2",children:[s.jsx(oa,{className:"h-5 w-5 text-blue-600"}),"Course Information"]})}),e[56]=us):us=e[56];let ps;e[57]===Symbol.for("react.memo_cache_sentinel")?(ps=s.jsx(cs,{className:"text-sm font-medium text-gray-700",children:"Course Name"}),e[57]=ps):ps=e[57];let ue;e[58]!==r.name?(ue=s.jsxs("div",{children:[ps,s.jsx("p",{className:"text-sm text-gray-900",children:r.name})]}),e[58]=r.name,e[59]=ue):ue=e[59];let js;e[60]===Symbol.for("react.memo_cache_sentinel")?(js=s.jsx(cs,{className:"text-sm font-medium text-gray-700",children:"Course Code"}),e[60]=js):js=e[60];let pe;e[61]!==r.code?(pe=s.jsxs("div",{children:[js,s.jsx("p",{className:"text-sm text-gray-900",children:r.code})]}),e[61]=r.code,e[62]=pe):pe=e[62];let gs;e[63]===Symbol.for("react.memo_cache_sentinel")?(gs=s.jsx(cs,{className:"text-sm font-medium text-gray-700",children:"Status"}),e[63]=gs):gs=e[63];let je;e[64]!==r.status?(je=s.jsxs("div",{children:[gs,s.jsx("p",{className:"text-sm text-gray-900",children:r.status})]}),e[64]=r.status,e[65]=je):je=e[65];let bs;e[66]===Symbol.for("react.memo_cache_sentinel")?(bs=s.jsx(cs,{className:"text-sm font-medium text-gray-700",children:"Description"}),e[66]=bs):bs=e[66];let ge;e[67]!==r.description?(ge=s.jsxs("div",{children:[bs,s.jsx("p",{className:"text-sm text-gray-900",children:r.description})]}),e[67]=r.description,e[68]=ge):ge=e[68];let be;e[69]!==ue||e[70]!==pe||e[71]!==je||e[72]!==ge?(be=s.jsxs(H,{children:[us,s.jsxs(O,{className:"space-y-4",children:[ue,pe,je,ge]})]}),e[69]=ue,e[70]=pe,e[71]=je,e[72]=ge,e[73]=be):be=e[73];let Ns;e[74]===Symbol.for("react.memo_cache_sentinel")?(Ns=s.jsx(ls,{children:s.jsxs(ns,{className:"flex items-center gap-2",children:[s.jsx(ma,{className:"h-5 w-5 text-green-600"}),"Class Analytics"]})}),e[74]=Ns):Ns=e[74];let Ne;e[75]!==r.enrolledCount?(Ne=s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.enrolledCount}),e[75]=r.enrolledCount,e[76]=Ne):Ne=e[76];let vs;e[77]===Symbol.for("react.memo_cache_sentinel")?(vs=s.jsx("p",{className:"text-xs text-gray-600",children:"Total Students"}),e[77]=vs):vs=e[77];let ve;e[78]!==Ne?(ve=s.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[Ne,vs]}),e[78]=Ne,e[79]=ve):ve=e[79];let ye;e[80]!==Y?(ye=s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Y,"%"]}),e[80]=Y,e[81]=ye):ye=e[81];let ys;e[82]===Symbol.for("react.memo_cache_sentinel")?(ys=s.jsx("p",{className:"text-xs text-gray-600",children:"Avg Attendance"}),e[82]=ys):ys=e[82];let Ce;e[83]!==ye?(Ce=s.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[ye,ys]}),e[83]=ye,e[84]=Ce):Ce=e[84];let Se;e[85]!==ve||e[86]!==Ce?(Se=s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[ve,Ce]}),e[85]=ve,e[86]=Ce,e[87]=Se):Se=e[87];let ke;e[88]!==F?(ke=F&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ia,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"font-medium",children:["Best: ",F.name]}),s.jsxs(ce,{variant:"secondary",children:[F.attendanceRate,"%"]})]}),e[88]=F,e[89]=ke):ke=e[89];let _e;e[90]!==R?(_e=R&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ut,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{className:"font-medium",children:["Needs Attention: ",R.name]}),s.jsxs(ce,{variant:"destructive",children:[R.attendanceRate,"%"]})]}),e[90]=R,e[91]=_e):_e=e[91];let Cs;e[92]===Symbol.for("react.memo_cache_sentinel")?(Cs=s.jsx(ut,{className:"h-4 w-4 text-orange-600"}),e[92]=Cs):Cs=e[92];let we;e[93]!==Z?(we=s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[Cs,s.jsxs("span",{children:[Z," students below 50% attendance"]})]}),e[93]=Z,e[94]=we):we=e[94];let Re;e[95]!==ke||e[96]!==_e||e[97]!==we?(Re=s.jsxs("div",{className:"space-y-2",children:[ke,_e,we]}),e[95]=ke,e[96]=_e,e[97]=we,e[98]=Re):Re=e[98];let Ae;e[99]!==Se||e[100]!==Re?(Ae=s.jsxs(H,{children:[Ns,s.jsxs(O,{className:"space-y-4",children:[Se,Re]})]}),e[99]=Se,e[100]=Re,e[101]=Ae):Ae=e[101];let Ss;e[102]===Symbol.for("react.memo_cache_sentinel")?(Ss=s.jsx(ls,{children:s.jsxs(ns,{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"h-5 w-5 text-green-600"}),"Attendance Sessions"]})}),e[102]=Ss):Ss=e[102];let Ie;e[103]!==m||e[104]!==l?(Ie=s.jsxs(H,{children:[Ss,s.jsx(O,{children:m.length===0?s.jsx("p",{className:"text-sm text-gray-500",children:"No attendance sessions yet"}):s.jsx("div",{className:"space-y-2",children:m.map(i=>s.jsx(zt,{to:"/dashboard/$role/$lecturerCourseId/$attendanceSessionId",params:{attendanceSessionId:i._id,role:"lecturer",lecturerCourseId:l},className:"p-3 border rounded-md hover:bg-gray-50 cursor-pointer transition-colors",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Attendance Session"}),s.jsx("p",{className:"text-xs text-gray-500",children:new Date(i._creationTime).toLocaleDateString()})]}),s.jsx(ce,{variant:i.status==="active"?"default":"secondary",children:i.status})]})},i._id))})})]}),e[103]=m,e[104]=l,e[105]=Ie):Ie=e[105];let Te;e[106]!==be||e[107]!==Ae||e[108]!==Ie?(Te=s.jsx(et,{value:"overview",className:"space-y-6 animate-fade-in",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[be,Ae,Ie]})}),e[106]=be,e[107]=Ae,e[108]=Ie,e[109]=Te):Te=e[109];let Me;e[110]!==o.length?(Me=o.length>0&&s.jsx(H,{className:"border-blue-200 bg-blue-50 animate-scale-in",children:s.jsx(O,{className:"py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("span",{className:"text-sm font-medium",children:[o.length," student(s) selected"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsxs(b,{size:"sm",variant:"outline",onClick:ae,className:"w-full sm:w-auto text-xs sm:text-sm",children:[s.jsx(ca,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Send Message"}),s.jsx("span",{className:"sm:hidden",children:"Message"})]}),s.jsxs(b,{size:"sm",variant:"destructive",onClick:te,className:"w-full sm:w-auto text-xs sm:text-sm",children:[s.jsx(ra,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Remove Selected"}),s.jsx("span",{className:"sm:hidden",children:"Remove"})]})]})]})})}),e[110]=o.length,e[111]=Me):Me=e[111];let ks;e[112]===Symbol.for("react.memo_cache_sentinel")?(ks=s.jsxs(ls,{children:[s.jsx(ns,{children:"Enrolled Students"}),s.jsx(it,{children:"Manage students enrolled in this course"})]}),e[112]=ks):ks=e[112];const Xs=o.length===x.length;let Pe;e[113]!==E||e[114]!==Xs?(Pe=s.jsx(A,{className:"w-12",children:s.jsx(ne,{checked:Xs,onCheckedChange:E})}),e[113]=E,e[114]=Xs,e[115]=Pe):Pe=e[115];let _s,ws,Rs,As,Is;e[116]===Symbol.for("react.memo_cache_sentinel")?(_s=s.jsx(A,{children:"Name"}),ws=s.jsx(A,{children:"Gender"}),Rs=s.jsx(A,{children:"Reg Number"}),As=s.jsx(A,{children:"Attendance"}),Is=s.jsx(A,{children:"Actions"}),e[116]=_s,e[117]=ws,e[118]=Rs,e[119]=As,e[120]=Is):(_s=e[116],ws=e[117],Rs=e[118],As=e[119],Is=e[120]);let Ee;e[121]!==Pe?(Ee=s.jsx(rt,{children:s.jsxs(Ds,{children:[Pe,_s,ws,Rs,As,Is]})}),e[121]=Pe,e[122]=Ee):Ee=e[122];let Le;if(e[123]!==o||e[124]!==x){let i;e[126]!==o?(i=a=>s.jsxs(Ds,{className:"hover:bg-gray-50 transition-colors cursor-pointer",children:[s.jsx(I,{onClick:wa,children:s.jsx(ne,{checked:o.includes(a.id),onCheckedChange:_=>re(a.id,_)})}),s.jsx(I,{className:"font-medium",children:a.name}),s.jsx(I,{children:a.gender}),s.jsx(I,{children:a.regNumber}),s.jsx(I,{children:s.jsxs(ce,{variant:a.attendanceRate>=75?"default":a.attendanceRate>=50?"secondary":"destructive",children:[a.attendanceRate,"%"]})}),s.jsx(I,{onClick:Ra,children:s.jsxs(ht,{children:[s.jsx(xt,{asChild:!0,children:s.jsx(b,{variant:"ghost",size:"sm",children:s.jsx(jt,{className:"h-4 w-4"})})}),s.jsxs(ft,{children:[s.jsx(Vs,{children:"View Details"}),s.jsx(Vs,{children:"Remove"})]})]})})]},a.id),e[126]=o,e[127]=i):i=e[127],Le=x.map(i),e[123]=o,e[124]=x,e[125]=Le}else Le=e[125];let ze;e[128]!==Le?(ze=s.jsx(ot,{children:Le}),e[128]=Le,e[129]=ze):ze=e[129];let Be;e[130]!==Ee||e[131]!==ze?(Be=s.jsx("div",{className:"hidden md:block",children:s.jsxs(dt,{children:[Ee,ze]})}),e[130]=Ee,e[131]=ze,e[132]=Be):Be=e[132];const Ks=o.length===x.length;let $e;e[133]!==E||e[134]!==Ks?($e=s.jsx(ne,{checked:Ks,onCheckedChange:E}),e[133]=E,e[134]=Ks,e[135]=$e):$e=e[135];let Ts;e[136]===Symbol.for("react.memo_cache_sentinel")?(Ts=s.jsx("span",{className:"text-sm text-gray-600",children:"Select All"}),e[136]=Ts):Ts=e[136];let qe;e[137]!==$e?(qe=s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[$e,Ts]}),e[137]=$e,e[138]=qe):qe=e[138];let Ge;if(e[139]!==o||e[140]!==x){let i;e[142]!==o?(i=a=>s.jsx(H,{className:"cursor-pointer hover:shadow-md transition-shadow",children:s.jsxs(O,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ne,{checked:o.includes(a.id),onCheckedChange:_=>re(a.id,_),onClick:Aa}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:a.name}),s.jsx("p",{className:"text-sm text-gray-600",children:a.regNumber})]})]}),s.jsxs(ht,{children:[s.jsx(xt,{asChild:!0,children:s.jsx(b,{variant:"ghost",size:"sm",onClick:Ia,children:s.jsx(jt,{className:"h-4 w-4"})})}),s.jsxs(ft,{children:[s.jsx(Vs,{children:"View Details"}),s.jsx(Vs,{children:"Remove"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:a.gender}),s.jsxs(ce,{variant:a.attendanceRate>=75?"default":a.attendanceRate>=50?"secondary":"destructive",children:[a.attendanceRate,"%"]})]})]})},a.id),e[142]=o,e[143]=i):i=e[143],Ge=x.map(i),e[139]=o,e[140]=x,e[141]=Ge}else Ge=e[141];let He;e[144]!==qe||e[145]!==Ge?(He=s.jsxs("div",{className:"md:hidden space-y-3",children:[qe,Ge]}),e[144]=qe,e[145]=Ge,e[146]=He):He=e[146];let Oe;e[147]!==Be||e[148]!==He?(Oe=s.jsxs(H,{children:[ks,s.jsxs(O,{children:[Be,He]})]}),e[147]=Be,e[148]=He,e[149]=Oe):Oe=e[149];let De;e[150]!==Me||e[151]!==Oe?(De=s.jsxs(et,{value:"students",className:"space-y-6 animate-fade-in",children:[Me,Oe]}),e[150]=Me,e[151]=Oe,e[152]=De):De=e[152];let Ms;e[153]===Symbol.for("react.memo_cache_sentinel")?(Ms=s.jsx(ls,{className:"pb-3",children:s.jsx(ns,{className:"text-lg",children:"Filter Requests"})}),e[153]=Ms):Ms=e[153];let Ps;e[154]===Symbol.for("react.memo_cache_sentinel")?(Ps=s.jsx(Jt,{className:"w-full max-w-md",children:s.jsx(Xt,{})}),e[154]=Ps):Ps=e[154];let Es;e[155]===Symbol.for("react.memo_cache_sentinel")?(Es=s.jsxs(Kt,{children:[s.jsx(Fs,{value:"all",children:"All Requests"}),s.jsx(Fs,{value:"pending",children:"Pending"}),s.jsx(Fs,{value:"approved",children:"Approved"}),s.jsx(Fs,{value:"rejected",children:"Rejected"})]}),e[155]=Es):Es=e[155];let Fe;e[156]!==g?(Fe=s.jsxs(H,{children:[Ms,s.jsx(O,{children:s.jsxs(Qt,{value:g,onValueChange:T,children:[Ps,Es]})})]}),e[156]=g,e[157]=Fe):Fe=e[157];let Ve;e[158]!==d.length?(Ve=d.length>0&&s.jsx(H,{className:"border-green-200 bg-green-50 animate-scale-in",children:s.jsx(O,{className:"py-3",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[s.jsxs("span",{className:"text-sm font-medium",children:[d.length," request(s) selected"]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[s.jsxs(b,{size:"sm",variant:"default",onClick:ee,className:"w-full sm:w-auto text-xs sm:text-sm",children:[s.jsx(Us,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Approve Selected"}),s.jsx("span",{className:"sm:hidden",children:"Approve"})]}),s.jsxs(b,{size:"sm",variant:"destructive",onClick:se,className:"w-full sm:w-auto text-xs sm:text-sm",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"hidden sm:inline",children:"Reject Selected"}),s.jsx("span",{className:"sm:hidden",children:"Reject"})]})]})]})})}),e[158]=d.length,e[159]=Ve):Ve=e[159];let Ls;e[160]===Symbol.for("react.memo_cache_sentinel")?(Ls=s.jsxs(ls,{children:[s.jsx(ns,{children:"Join Requests"}),s.jsx(it,{children:"Review and manage student join requests"})]}),e[160]=Ls):Ls=e[160];const Qs=d.length===S.length;let Ue;e[161]!==k||e[162]!==Qs?(Ue=s.jsx(A,{className:"w-12",children:s.jsx(ne,{checked:Qs,onCheckedChange:k})}),e[161]=k,e[162]=Qs,e[163]=Ue):Ue=e[163];let zs,Bs,$s,qs,Gs;e[164]===Symbol.for("react.memo_cache_sentinel")?(zs=s.jsx(A,{children:"Student"}),Bs=s.jsx(A,{children:"Reg Number"}),$s=s.jsx(A,{children:"Department"}),qs=s.jsx(A,{children:"Status"}),Gs=s.jsx(A,{children:"Actions"}),e[164]=zs,e[165]=Bs,e[166]=$s,e[167]=qs,e[168]=Gs):(zs=e[164],Bs=e[165],$s=e[166],qs=e[167],Gs=e[168]);let Je;e[169]!==Ue?(Je=s.jsx(rt,{children:s.jsxs(Ds,{children:[Ue,zs,Bs,$s,qs,Gs]})}),e[169]=Ue,e[170]=Je):Je=e[170];let Xe;if(e[171]!==S||e[172]!==d){let i;e[174]!==d?(i=a=>s.jsxs(Ds,{className:"hover:bg-gray-50 transition-colors",children:[s.jsx(I,{children:s.jsx(ne,{checked:d.includes(a.id),onCheckedChange:_=>X(a.id,_)})}),s.jsx(I,{className:"font-medium",children:a.student.name}),s.jsx(I,{children:a.student.regNumber}),s.jsx(I,{children:a.student.department}),s.jsx(I,{children:s.jsx(ce,{variant:a.status==="approved"?"default":a.status==="rejected"?"destructive":"secondary",children:a.status})}),s.jsx(I,{children:a.status==="pending"&&s.jsxs("div",{className:"flex gap-1",children:[s.jsx(b,{size:"sm",variant:"default",children:s.jsx(Us,{className:"h-4 w-4"})}),s.jsx(b,{size:"sm",variant:"destructive",children:s.jsx(st,{className:"h-4 w-4"})})]})})]},a.id),e[174]=d,e[175]=i):i=e[175],Xe=S.map(i),e[171]=S,e[172]=d,e[173]=Xe}else Xe=e[173];let Ke;e[176]!==Xe?(Ke=s.jsx(ot,{children:Xe}),e[176]=Xe,e[177]=Ke):Ke=e[177];let Qe;e[178]!==Je||e[179]!==Ke?(Qe=s.jsx("div",{className:"hidden md:block",children:s.jsxs(dt,{children:[Je,Ke]})}),e[178]=Je,e[179]=Ke,e[180]=Qe):Qe=e[180];const Ws=d.length===S.length;let We;e[181]!==k||e[182]!==Ws?(We=s.jsx(ne,{checked:Ws,onCheckedChange:k}),e[181]=k,e[182]=Ws,e[183]=We):We=e[183];let Hs;e[184]===Symbol.for("react.memo_cache_sentinel")?(Hs=s.jsx("span",{className:"text-sm text-gray-600",children:"Select All"}),e[184]=Hs):Hs=e[184];let Ye;e[185]!==We?(Ye=s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[We,Hs]}),e[185]=We,e[186]=Ye):Ye=e[186];let Ze;if(e[187]!==S||e[188]!==d){let i;e[190]!==d?(i=a=>s.jsx(H,{className:"hover:shadow-md transition-shadow",children:s.jsxs(O,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ne,{checked:d.includes(a.id),onCheckedChange:_=>X(a.id,_)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:a.student.name}),s.jsx("p",{className:"text-sm text-gray-600",children:a.student.regNumber}),s.jsx("p",{className:"text-xs text-gray-500",children:a.student.department})]})]}),s.jsx(ce,{variant:a.status==="approved"?"default":a.status==="rejected"?"destructive":"secondary",children:a.status})]}),a.status==="pending"&&s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsxs(b,{size:"sm",variant:"default",className:"flex-1",children:[s.jsx(Us,{className:"h-4 w-4 mr-1"}),"Approve"]}),s.jsxs(b,{size:"sm",variant:"destructive",className:"flex-1",children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})},a.id),e[190]=d,e[191]=i):i=e[191],Ze=S.map(i),e[187]=S,e[188]=d,e[189]=Ze}else Ze=e[189];let es;e[192]!==Ye||e[193]!==Ze?(es=s.jsxs("div",{className:"md:hidden space-y-3",children:[Ye,Ze]}),e[192]=Ye,e[193]=Ze,e[194]=es):es=e[194];let ss;e[195]!==es||e[196]!==Qe?(ss=s.jsxs(H,{children:[Ls,s.jsxs(O,{children:[Qe,es]})]}),e[195]=es,e[196]=Qe,e[197]=ss):ss=e[197];let ts;e[198]!==ss||e[199]!==Fe||e[200]!==Ve?(ts=s.jsxs(et,{value:"requests",className:"space-y-6 animate-fade-in",children:[Fe,Ve,ss]}),e[198]=ss,e[199]=Fe,e[200]=Ve,e[201]=ts):ts=e[201];let as;e[202]!==c||e[203]!==ts||e[204]!==Te||e[205]!==De?(as=s.jsxs(Gt,{value:c,onValueChange:u,className:"space-y-6",children:[fs,Te,De,ts]}),e[202]=c,e[203]=ts,e[204]=Te,e[205]=De,e[206]=as):as=e[206];let Os;return e[207]!==as||e[208]!==fe?(Os=s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[fe,as]}),e[207]=as,e[208]=fe,e[209]=Os):Os=e[209],Os};function ka(n){return n.id}function _a(n){return n.id}function wa(n){return n.stopPropagation()}function Ra(n){return n.stopPropagation()}function Aa(n){return n.stopPropagation()}function Ia(n){return n.stopPropagation()}const Ka=function(){const e=rs.c(9),{courseId:l}=Ht.useParams();let t;e[0]!==l?(t={courseId:l},e[0]=l,e[1]=t):t=e[1];const{data:m}=ga(t);let c;e[2]!==l?(c={courseId:l},e[2]=l,e[3]=c):c=e[3];const{data:u}=Ft(c);let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsx(Ot,{}),e[4]=h):h=e[4];let o;return e[5]!==u||e[6]!==m||e[7]!==l?(o=s.jsx(j.Suspense,{fallback:h,children:s.jsx(Sa,{courseId:l,courseDetails:m,attendanceSessions:u})}),e[5]=u,e[6]=m,e[7]=l,e[8]=o):o=e[8],o};export{Ka as component};
